{"ast":null,"code":"import _regeneratorRuntime from \"D:\\\\work\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\work\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"D:\\\\work\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\work\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\work\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\work\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\work\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\work\\\\client\\\\src\\\\components\\\\user\\\\user.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { fetchNews } from '../../actions';\nimport { compose } from \"../../utils\";\nimport { withBookstoreService } from \"../hoc\"; // import LoadingSpinner from \"../spinner\";\n// import ErrorBoundry from \"../error-boundry\";\n\nimport '../news/news.css';\n\nvar User = /*#__PURE__*/function (_React$Component) {\n  _inherits(User, _React$Component);\n\n  function User() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, User);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(User)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this._apiBase = 'http://localhost/auth';\n\n    _this.getResource = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(url) {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return fetch(\"\".concat(_this._apiBase).concat(url), {\n                  mode: \"no-cors\",\n                  method: \"GET\"\n                });\n\n              case 2:\n                res = _context.sent;\n\n                if (res.ok) {\n                  _context.next = 5;\n                  break;\n                }\n\n                throw new Error(\"Could not fetch \".concat(url) + \", received \".concat(res.status));\n\n              case 5:\n                return _context.abrupt(\"return\", res);\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.getAllPeople = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return _this.getResource(\"\");\n\n            case 2:\n              res = _context2.sent;\n              console.log(res);\n              _context2.next = 6;\n              return res;\n\n            case 6:\n              return _context2.abrupt(\"return\", _context2.sent);\n\n            case 7:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n    return _this;\n  }\n\n  _createClass(User, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      console.log(this.getAllPeople());\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 9\n        }\n      }, \"Home\"), /*#__PURE__*/React.createElement(\"button\", {\n        onClick: function onClick() {\n          return _this2.getAllPeople();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 9\n        }\n      }, \"click\"));\n    }\n  }]);\n\n  return User;\n}(React.Component);\n\nvar mapStateToProps = function mapStateToProps(_ref3) {\n  var _ref3$newsList = _ref3.newsList,\n      products = _ref3$newsList.products,\n      pending = _ref3$newsList.pending,\n      error = _ref3$newsList.error;\n  return {\n    products: products,\n    pending: pending,\n    error: error\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return bindActionCreators({\n    fetchProducts: fetchNews\n  }, dispatch);\n};\n\nexport default compose(withBookstoreService(), connect(mapStateToProps, mapDispatchToProps))(User);","map":{"version":3,"sources":["D:/work/client/src/components/user/user.js"],"names":["React","connect","bindActionCreators","fetchNews","compose","withBookstoreService","User","_apiBase","getResource","url","fetch","mode","method","res","ok","Error","status","getAllPeople","console","log","Component","mapStateToProps","newsList","products","pending","error","mapDispatchToProps","dispatch","fetchProducts"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,SAAQC,kBAAR,QAAiC,OAAjC;AACA,SAAQC,SAAR,QAAwB,eAAxB;AAEA,SAAQC,OAAR,QAAsB,aAAtB;AACA,SAAQC,oBAAR,QAAmC,QAAnC,C,CACA;AACA;;AACA,OAAO,kBAAP;;IAEMC,I;;;;;;;;;;;;;;;UAGJC,Q,GAAW,uB;;UACXC,W;0EAAc,iBAAOC,GAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACMC,KAAK,WAAI,MAAKH,QAAT,SAAoBE,GAApB,GAA2B;AAChDE,kBAAAA,IAAI,EAAE,SAD0C;AAEhDC,kBAAAA,MAAM,EAAE;AAFwC,iBAA3B,CADX;;AAAA;AACNC,gBAAAA,GADM;;AAAA,oBAMPA,GAAG,CAACC,EANG;AAAA;AAAA;AAAA;;AAAA,sBAOJ,IAAIC,KAAJ,CAAU,0BAAmBN,GAAnB,yBACAI,GAAG,CAACG,MADJ,CAAV,CAPI;;AAAA;AAAA,iDAULH,GAVK;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;UAadI,Y,yEAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACK,MAAKT,WAAL,IADL;;AAAA;AACPK,cAAAA,GADO;AAEbK,cAAAA,OAAO,CAACC,GAAR,CAAYN,GAAZ;AAFa;AAAA,qBAGAA,GAHA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,K;;;;;;6BAKN;AAAA;;AACPK,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKF,YAAL,EAAZ;AACA,0BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAQ,QAAA,OAAO,EAAE;AAAA,iBAAM,MAAI,CAACA,YAAL,EAAN;AAAA,SAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFF,CADF;AAOD;;;;EA/BgBjB,KAAK,CAACoB,S;;AAmCzB,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,QAA4C;AAAA,6BAA1CC,QAA0C;AAAA,MAA/BC,QAA+B,kBAA/BA,QAA+B;AAAA,MAArBC,OAAqB,kBAArBA,OAAqB;AAAA,MAAZC,KAAY,kBAAZA,KAAY;AAClE,SAAO;AAACF,IAAAA,QAAQ,EAARA,QAAD;AAAWC,IAAAA,OAAO,EAAPA,OAAX;AAAoBC,IAAAA,KAAK,EAALA;AAApB,GAAP;AACD,CAFD;;AAKA,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,CAAAC,QAAQ;AAAA,SAAIzB,kBAAkB,CAAC;AAGxD0B,IAAAA,aAAa,EAAEzB;AAHyC,GAAD,EAKtDwB,QALsD,CAAtB;AAAA,CAAnC;;AAQA,eAAevB,OAAO,CAACC,oBAAoB,EAArB,EAAyBJ,OAAO,CAACoB,eAAD,EAAkBK,kBAAlB,CAAhC,CAAP,CAA8EpB,IAA9E,CAAf","sourcesContent":["import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {bindActionCreators} from 'redux';\r\nimport {fetchNews} from '../../actions';\r\n\r\nimport {compose} from \"../../utils\";\r\nimport {withBookstoreService} from \"../hoc\";\r\n// import LoadingSpinner from \"../spinner\";\r\n// import ErrorBoundry from \"../error-boundry\";\r\nimport '../news/news.css'\r\n\r\nclass User extends React.Component {\r\n  \r\n  \r\n  _apiBase = 'http://localhost/auth';\r\n  getResource = async (url) => {\r\n    const res = await fetch(`${this._apiBase}${url}`, {\r\n      mode: \"no-cors\",\r\n      method: \"GET\"\r\n    });\r\n    \r\n    if (!res.ok) {\r\n      throw new Error(`Could not fetch ${url}` +\r\n        `, received ${res.status}`)\r\n    }\r\n    return res;\r\n    \r\n  };\r\n  getAllPeople = async () => {\r\n    const res = await this.getResource(``);\r\n    console.log(res)\r\n    return await res\r\n  };\r\n  render() {\r\n    console.log(this.getAllPeople())\r\n    return (\r\n      <div>\r\n        <h1>Home</h1>\r\n        <button onClick={() => this.getAllPeople()}>click</button>\r\n      </div>\r\n    \r\n    )\r\n  }\r\n}\r\n\r\n\r\nconst mapStateToProps = ({newsList: {products, pending, error}}) => {\r\n  return {products, pending, error};\r\n};\r\n\r\n\r\nconst mapDispatchToProps = dispatch => bindActionCreators({\r\n  \r\n  \r\n  fetchProducts: fetchNews\r\n  \r\n}, dispatch)\r\n\r\n\r\nexport default compose(withBookstoreService(), connect(mapStateToProps, mapDispatchToProps))(User);\r\n"]},"metadata":{},"sourceType":"module"}