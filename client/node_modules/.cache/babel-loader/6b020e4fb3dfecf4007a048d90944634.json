{"ast":null,"code":"export var FETCH_PRODUCTS_PENDING = 'FETCH_PRODUCTS_PENDING';\nexport var FETCH_PRODUCTS_SUCCESS = 'FETCH_PRODUCTS_SUCCESS';\nexport var FETCH_PRODUCTS_ERROR = 'FETCH_PRODUCTS_ERROR';\n\nvar booksRequested = function booksRequested() {\n  return {\n    type: 'FETCH_BOOKS_REQUEST'\n  };\n};\n\nvar booksLoaded = function booksLoaded(newBooks) {\n  return {\n    type: 'FETCH_BOOKS_SUCCESS',\n    payload: newBooks\n  };\n};\n\nvar booksError = function booksError(error) {\n  return {\n    type: 'FETCH_BOOKS_FAILURE',\n    payload: error\n  };\n};\n\nexport var bookAddedToCart = function bookAddedToCart(bookId) {\n  return {\n    type: 'BOOK_ADDED_TO_CART',\n    payload: bookId\n  };\n};\nexport var bookRemovedFromCart = function bookRemovedFromCart(bookId) {\n  return {\n    type: 'BOOK_REMOVED_FROM_CART',\n    payload: bookId\n  };\n};\nexport var allBooksRemovedFromCart = function allBooksRemovedFromCart(bookId) {\n  return {\n    type: 'ALL_BOOKS_REMOVED_FROM_CART',\n    payload: bookId\n  };\n};\nexport function fetchProductsPending() {\n  return {\n    type: FETCH_PRODUCTS_PENDING\n  };\n}\nexport function fetchProductsSuccess(products) {\n  return {\n    type: FETCH_PRODUCTS_SUCCESS,\n    products: products\n  };\n}\nexport function fetchProductsError(error) {\n  return {\n    type: FETCH_PRODUCTS_ERROR,\n    error: error\n  };\n} // const fetchBooksOld = (bookstoreService, dispatch) => () => {\n//   dispatch(booksRequested());\n//   bookstoreService.getBooks()\n//     .then((data) => dispatch(booksLoaded(data)))\n//     .catch((err) => dispatch(booksError(err)));\n// };\n\nexport var fetchBooks = function fetchBooks(bookstoreService) {\n  return function () {\n    return function (dispatch) {\n      dispatch(booksRequested());\n      bookstoreService.getBooks().then(function (data) {\n        return dispatch(booksLoaded(data));\n      }).catch(function (err) {\n        return dispatch(booksError(err));\n      });\n    };\n  };\n};","map":{"version":3,"sources":["D:/Программы/pro-react-redux-master/pro-react-redux-master/re-store/130-thunk/src/actions/index.js"],"names":["FETCH_PRODUCTS_PENDING","FETCH_PRODUCTS_SUCCESS","FETCH_PRODUCTS_ERROR","booksRequested","type","booksLoaded","newBooks","payload","booksError","error","bookAddedToCart","bookId","bookRemovedFromCart","allBooksRemovedFromCart","fetchProductsPending","fetchProductsSuccess","products","fetchProductsError","fetchBooks","bookstoreService","dispatch","getBooks","then","data","catch","err"],"mappings":"AAAA,OAAO,IAAMA,sBAAsB,GAAG,wBAA/B;AACP,OAAO,IAAMC,sBAAsB,GAAG,wBAA/B;AACP,OAAO,IAAMC,oBAAoB,GAAG,sBAA7B;;AAIP,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,GAAM;AAC3B,SAAO;AACLC,IAAAA,IAAI,EAAE;AADD,GAAP;AAGD,CAJD;;AAMA,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,QAAD,EAAc;AAChC,SAAO;AACLF,IAAAA,IAAI,EAAE,qBADD;AAELG,IAAAA,OAAO,EAAED;AAFJ,GAAP;AAID,CALD;;AAOA,IAAME,UAAU,GAAG,SAAbA,UAAa,CAACC,KAAD,EAAW;AAC5B,SAAO;AACLL,IAAAA,IAAI,EAAE,qBADD;AAELG,IAAAA,OAAO,EAAEE;AAFJ,GAAP;AAID,CALD;;AAOA,OAAO,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,MAAD,EAAY;AACzC,SAAO;AACLP,IAAAA,IAAI,EAAE,oBADD;AAELG,IAAAA,OAAO,EAAEI;AAFJ,GAAP;AAID,CALM;AAOP,OAAO,IAAMC,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACD,MAAD,EAAY;AAC7C,SAAO;AACLP,IAAAA,IAAI,EAAE,wBADD;AAELG,IAAAA,OAAO,EAAEI;AAFJ,GAAP;AAID,CALM;AAOP,OAAO,IAAME,uBAAuB,GAAG,SAA1BA,uBAA0B,CAACF,MAAD,EAAY;AACjD,SAAO;AACLP,IAAAA,IAAI,EAAE,6BADD;AAELG,IAAAA,OAAO,EAAEI;AAFJ,GAAP;AAID,CALM;AAMP,OAAO,SAASG,oBAAT,GAAgC;AACrC,SAAO;AACLV,IAAAA,IAAI,EAAEJ;AADD,GAAP;AAGD;AAED,OAAO,SAASe,oBAAT,CAA8BC,QAA9B,EAAwC;AAC7C,SAAO;AACLZ,IAAAA,IAAI,EAAEH,sBADD;AAELe,IAAAA,QAAQ,EAAEA;AAFL,GAAP;AAID;AAED,OAAO,SAASC,kBAAT,CAA4BR,KAA5B,EAAmC;AACxC,SAAO;AACLL,IAAAA,IAAI,EAAEF,oBADD;AAELO,IAAAA,KAAK,EAAEA;AAFF,GAAP;AAID,C,CAGD;AACA;AACA;AACA;AACA;AACA;;AAEC,OAAO,IAAMS,UAAU,GAAG,SAAbA,UAAa,CAACC,gBAAD;AAAA,SAAsB;AAAA,WAAM,UAACC,QAAD,EAAc;AACnEA,MAAAA,QAAQ,CAACjB,cAAc,EAAf,CAAR;AACAgB,MAAAA,gBAAgB,CAACE,QAAjB,GACGC,IADH,CACQ,UAACC,IAAD;AAAA,eAAUH,QAAQ,CAACf,WAAW,CAACkB,IAAD,CAAZ,CAAlB;AAAA,OADR,EAEGC,KAFH,CAES,UAACC,GAAD;AAAA,eAASL,QAAQ,CAACZ,UAAU,CAACiB,GAAD,CAAX,CAAjB;AAAA,OAFT;AAGD,KALgD;AAAA,GAAtB;AAAA,CAAnB","sourcesContent":["export const FETCH_PRODUCTS_PENDING = 'FETCH_PRODUCTS_PENDING';\nexport const FETCH_PRODUCTS_SUCCESS = 'FETCH_PRODUCTS_SUCCESS';\nexport const FETCH_PRODUCTS_ERROR = 'FETCH_PRODUCTS_ERROR';\n\n\n\nconst booksRequested = () => {\n  return {\n    type: 'FETCH_BOOKS_REQUEST'\n  };\n};\n\nconst booksLoaded = (newBooks) => {\n  return {\n    type: 'FETCH_BOOKS_SUCCESS',\n    payload: newBooks\n  };\n};\n\nconst booksError = (error) => {\n  return {\n    type: 'FETCH_BOOKS_FAILURE',\n    payload: error\n  };\n};\n\nexport const bookAddedToCart = (bookId) => {\n  return {\n    type: 'BOOK_ADDED_TO_CART',\n    payload: bookId\n  };\n};\n\nexport const bookRemovedFromCart = (bookId) => {\n  return {\n    type: 'BOOK_REMOVED_FROM_CART',\n    payload: bookId\n  };\n};\n\nexport const allBooksRemovedFromCart = (bookId) => {\n  return {\n    type: 'ALL_BOOKS_REMOVED_FROM_CART',\n    payload: bookId\n  };\n};\nexport function fetchProductsPending() {\n  return {\n    type: FETCH_PRODUCTS_PENDING\n  }\n}\n\nexport function fetchProductsSuccess(products) {\n  return {\n    type: FETCH_PRODUCTS_SUCCESS,\n    products: products\n  }\n}\n\nexport function fetchProductsError(error) {\n  return {\n    type: FETCH_PRODUCTS_ERROR,\n    error: error\n  }\n}\n\n\n// const fetchBooksOld = (bookstoreService, dispatch) => () => {\n//   dispatch(booksRequested());\n//   bookstoreService.getBooks()\n//     .then((data) => dispatch(booksLoaded(data)))\n//     .catch((err) => dispatch(booksError(err)));\n// };\n\n export const fetchBooks = (bookstoreService) => () => (dispatch) => {\n  dispatch(booksRequested());\n  bookstoreService.getBooks()\n    .then((data) => dispatch(booksLoaded(data)))\n    .catch((err) => dispatch(booksError(err)));\n};\n\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}