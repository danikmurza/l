{"ast":null,"code":"import _regeneratorRuntime from \"D:\\\\work\\\\130-thunk\\\\130-thunk\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\work\\\\130-thunk\\\\130-thunk\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport { fetchNewsPending, fetchNewsSuccess, fetchNewsError } from '../actions';\n\nfunction fetchNews() {\n  return /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              dispatch(fetchNewsPending());\n              _context.next = 3;\n              return fetch('http://newsapi.org/v2/top-headlines?country=us&category=business&apiKey=759652119d0a41f8acc1c5b07ad5263a', {\n                mode: \"no-cors\"\n              }).then(function (res) {\n                return res.json();\n              }).then(function (res) {\n                if (res.error) {\n                  throw res.error;\n                }\n\n                dispatch(fetchNewsSuccess(res.articles));\n                return res;\n              }).catch(function (error) {\n                dispatch(fetchNewsError(error));\n              });\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n}\n\nexport default fetchNews;","map":{"version":3,"sources":["D:/work/130-thunk/130-thunk/src/reducers/fetchProduct.js"],"names":["fetchNewsPending","fetchNewsSuccess","fetchNewsError","fetchNews","dispatch","fetch","mode","then","res","json","error","articles","catch"],"mappings":";;AAAA,SACEA,gBADF,EAEEC,gBAFF,EAGEC,cAHF,QAIO,YAJP;;AAMA,SAASC,SAAT,GAAqB;AACnB;AAAA,wEAAO,iBAAMC,QAAN;AAAA;AAAA;AAAA;AAAA;AACLA,cAAAA,QAAQ,CAACJ,gBAAgB,EAAjB,CAAR;AADK;AAAA,qBAECK,KAAK,CAAC,0GAAD,EAA6G;AAACC,gBAAAA,IAAI,EAAE;AAAP,eAA7G,CAAL,CACHC,IADG,CACE,UAAAC,GAAG;AAAA,uBAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,eADL,EAEHF,IAFG,CAEE,UAAAC,GAAG,EAAI;AACX,oBAAIA,GAAG,CAACE,KAAR,EAAe;AACb,wBAAMF,GAAG,CAACE,KAAV;AACD;;AACDN,gBAAAA,QAAQ,CAACH,gBAAgB,CAACO,GAAG,CAACG,QAAL,CAAjB,CAAR;AACA,uBAAOH,GAAP;AACD,eARG,EASHI,KATG,CASG,UAAAF,KAAK,EAAI;AACdN,gBAAAA,QAAQ,CAACF,cAAc,CAACQ,KAAD,CAAf,CAAR;AACD,eAXG,CAFD;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAP;;AAAA;AAAA;AAAA;AAAA;AAeD;;AAED,eAAeP,SAAf","sourcesContent":["import {\r\n  fetchNewsPending,\r\n  fetchNewsSuccess,\r\n  fetchNewsError\r\n} from '../actions';\r\n\r\nfunction fetchNews() {\r\n  return async dispatch => {\r\n    dispatch(fetchNewsPending());\r\n    await fetch('http://newsapi.org/v2/top-headlines?country=us&category=business&apiKey=759652119d0a41f8acc1c5b07ad5263a', {mode: \"no-cors\"})\r\n      .then(res => res.json())\r\n      .then(res => {\r\n        if (res.error) {\r\n          throw(res.error);\r\n        }\r\n        dispatch(fetchNewsSuccess(res.articles))\r\n        return res;\r\n      })\r\n      .catch(error => {\r\n        dispatch(fetchNewsError(error));\r\n      })\r\n  }\r\n}\r\n\r\nexport default fetchNews;\r\n"]},"metadata":{},"sourceType":"module"}