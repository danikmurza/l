{"ast":null,"code":"import _regeneratorRuntime from \"D:\\\\work\\\\aa\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\work\\\\aa\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\n\nvar booksRequested = function booksRequested() {\n  return {\n    type: 'FETCH_BOOKS_REQUEST'\n  };\n};\n\nvar booksLoaded = function booksLoaded(newBooks) {\n  return {\n    type: 'FETCH_BOOKS_SUCCESS',\n    payload: newBooks\n  };\n};\n\nvar booksError = function booksError(error) {\n  return {\n    type: 'FETCH_BOOKS_FAILURE',\n    payload: error\n  };\n};\n\nexport var bookAddedToCart = function bookAddedToCart(bookId) {\n  return {\n    type: 'BOOK_ADDED_TO_CART',\n    payload: bookId\n  };\n};\nexport var bookRemovedFromCart = function bookRemovedFromCart(bookId) {\n  return {\n    type: 'BOOK_REMOVED_FROM_CART',\n    payload: bookId\n  };\n};\nexport var allBooksRemovedFromCart = function allBooksRemovedFromCart(bookId) {\n  return {\n    type: 'ALL_BOOKS_REMOVED_FROM_CART',\n    payload: bookId\n  };\n};\nexport function fetchNewsPending() {\n  return {\n    type: 'FETCH_NEWS_REQUEST'\n  };\n}\nexport function fetchNewsSuccess(news) {\n  return {\n    type: 'FETCH_NEWS_SUCCESS',\n    products: news\n  };\n}\nexport function fetchNewsError(error) {\n  return {\n    type: 'FETCH_NEWS_ERROR',\n    products: error\n  };\n}\nexport function fetchUserPending() {\n  return {\n    type: 'FETCH_USER_REQUEST'\n  };\n}\nexport function fetchUserSuccess(user) {\n  return {\n    type: 'FETCH_USER_SUCCESS',\n    products: user\n  };\n}\nexport function fetchUserError(error) {\n  return {\n    type: 'FETCH_USER_ERROR',\n    products: error\n  };\n} //  export const fetchBooks = (bookstoreService) => () => (dispatch) => {\n//   dispatch(booksRequested());\n//   bookstoreService.getBooks()\n//     .then((data) => dispatch(booksLoaded(data)))\n//     .catch((err) => dispatch(booksError(err)));\n// };\n\nexport function fetchBooks() {\n  return function (dispatch) {\n    dispatch(booksRequested());\n    fetch('/books').then(function (res) {\n      return res.json();\n    }).then(function (res) {\n      if (res.error) {\n        throw res.error;\n      }\n\n      console.log(res);\n      dispatch(booksLoaded(res));\n      return res;\n    }).catch(function (error) {\n      dispatch(booksError(error));\n    });\n  };\n}\nexport function fetchNews() {\n  return /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              dispatch(fetchNewsPending());\n              _context.next = 3;\n              return fetch('https://newsapi.org/v2/top-headlines?country=us&category=business&apiKey=759652119d0a41f8acc1c5b07ad5263a').then(function (res) {\n                return res.json();\n              }).then(function (res) {\n                if (res.error) {\n                  throw res.error;\n                }\n\n                console.log(res);\n                dispatch(fetchNewsSuccess(res.articles));\n                return res;\n              }).catch(function (error) {\n                dispatch(fetchNewsError(error));\n              });\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n}\nexport function fetchUser() {\n  return /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch) {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              dispatch(fetchUserPending());\n              _context2.next = 3;\n              return fetch('/auth/array').then(function (res) {\n                return res.json();\n              }).then(function (res) {\n                if (res.error) {\n                  throw res.error;\n                }\n\n                console.log(res.message);\n                dispatch(fetchUserSuccess(res));\n                return res;\n              }).catch(function (error) {\n                dispatch(fetchUserError(error));\n              });\n\n            case 3:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function (_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n}","map":{"version":3,"sources":["D:/work/aa/client/src/actions/index.js"],"names":["booksRequested","type","booksLoaded","newBooks","payload","booksError","error","bookAddedToCart","bookId","bookRemovedFromCart","allBooksRemovedFromCart","fetchNewsPending","fetchNewsSuccess","news","products","fetchNewsError","fetchUserPending","fetchUserSuccess","user","fetchUserError","fetchBooks","dispatch","fetch","then","res","json","console","log","catch","fetchNews","articles","fetchUser","message"],"mappings":"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","sourcesContent":["\nconst booksRequested = () => {\n  return {\n    type: 'FETCH_BOOKS_REQUEST'\n  };\n};\n\nconst booksLoaded = (newBooks) => {\n  return {\n    type: 'FETCH_BOOKS_SUCCESS',\n    payload: newBooks\n  };\n};\n\nconst booksError = (error) => {\n  return {\n    type: 'FETCH_BOOKS_FAILURE',\n    payload: error\n  };\n};\n\nexport const bookAddedToCart = (bookId) => {\n  return {\n    type: 'BOOK_ADDED_TO_CART',\n    payload: bookId\n  };\n};\n\nexport const bookRemovedFromCart = (bookId) => {\n  return {\n    type: 'BOOK_REMOVED_FROM_CART',\n    payload: bookId\n  };\n};\n\nexport const allBooksRemovedFromCart = (bookId) => {\n  return {\n    type: 'ALL_BOOKS_REMOVED_FROM_CART',\n    payload: bookId\n  };\n};\n\nexport function fetchNewsPending() {\n  return {\n    type: 'FETCH_NEWS_REQUEST'\n  }\n}\n\nexport  function  fetchNewsSuccess(news) {\n  return {\n    type: 'FETCH_NEWS_SUCCESS',\n    products: news\n  }\n}\n\nexport function fetchNewsError(error) {\n  return {\n    type: 'FETCH_NEWS_ERROR',\n    products: error\n  }\n}\n\nexport function fetchUserPending() {\n  return {\n    type: 'FETCH_USER_REQUEST'\n  }\n}\n\nexport  function  fetchUserSuccess(user) {\n  return {\n    type: 'FETCH_USER_SUCCESS',\n    products: user\n  }\n}\n\nexport function fetchUserError(error) {\n  return {\n    type: 'FETCH_USER_ERROR',\n    products: error\n  }\n}\n\n//  export const fetchBooks = (bookstoreService) => () => (dispatch) => {\n//   dispatch(booksRequested());\n//   bookstoreService.getBooks()\n//     .then((data) => dispatch(booksLoaded(data)))\n//     .catch((err) => dispatch(booksError(err)));\n// };\n\nexport function fetchBooks() {\n  return  dispatch => {\n    dispatch(booksRequested());\n     fetch('/books')\n      .then(res => res.json())\n      .then(res => {\n        if (res.error) {\n          throw(res.error);\n        }\n        console.log(res)\n        dispatch(booksLoaded(res))\n        return res;\n      })\n      .catch(error => {\n        dispatch(booksError(error));\n      })\n  }\n}\n\nexport function fetchNews() {\n  return async dispatch => {\n    dispatch(fetchNewsPending());\n    await fetch('https://newsapi.org/v2/top-headlines?country=us&category=business&apiKey=759652119d0a41f8acc1c5b07ad5263a')\n      .then(res => res.json())\n      .then(res => {\n        if (res.error) {\n          throw(res.error);\n        }\n        console.log(res)\n        dispatch(fetchNewsSuccess(res.articles))\n        return res;\n      })\n      .catch(error => {\n        dispatch(fetchNewsError(error));\n      })\n  }\n}\n\n\n\nexport function fetchUser() {\n  return async dispatch => {\n    dispatch(fetchUserPending());\n    await fetch('/auth/array')\n      .then(res => res.json())\n      .then(res => {\n        if (res.error) {\n          throw(res.error);\n        }\n        console.log(res.message)\n        dispatch(fetchUserSuccess(res))\n        return res;\n      })\n      .catch(error => {\n        dispatch(fetchUserError(error));\n      })\n  }\n}\n\n\n\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}