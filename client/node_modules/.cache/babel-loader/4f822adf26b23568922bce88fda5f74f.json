{"ast":null,"code":"import { createStore, applyMiddleware } from 'redux';\nimport thunkMiddleware from 'redux-thunk';\nimport reducer from './reducers';\n\nvar logMiddleware = function logMiddleware(_ref) {\n  var getState = _ref.getState;\n  return function (next) {\n    return function (action) {\n      console.log(action.type, getState());\n      return next(action);\n    };\n  };\n};\n\nvar stringMiddleware = function stringMiddleware() {\n  return function (next) {\n    return function (action) {\n      if (typeof action === 'string') {\n        return next({\n          type: action\n        });\n      }\n\n      return next(action);\n    };\n  };\n};\n\nvar store = createStore(reducer, applyMiddleware(thunkMiddleware, stringMiddleware, logMiddleware));\n\nvar delayedActionCreator = function delayedActionCreator(timeout) {\n  return function (dispatch) {\n    setTimeout(function () {\n      return dispatch({\n        type: 'DELAYED_ACTION'\n      });\n    }, timeout);\n  };\n};\n\nstore.dispatch(delayedActionCreator(500));\nexport default store;","map":{"version":3,"sources":["D:/work/130-thunk/130-thunk/src/store.js"],"names":["createStore","applyMiddleware","thunkMiddleware","reducer","logMiddleware","getState","next","action","console","log","type","stringMiddleware","store","delayedActionCreator","timeout","dispatch","setTimeout"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,eAAtB,QAA6C,OAA7C;AACA,OAAOC,eAAP,MAA4B,aAA5B;AAEA,OAAOC,OAAP,MAAoB,YAApB;;AAGA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB;AAAA,MAAGC,QAAH,QAAGA,QAAH;AAAA,SAAkB,UAACC,IAAD;AAAA,WAAU,UAACC,MAAD,EAAY;AAC5DC,MAAAA,OAAO,CAACC,GAAR,CAAYF,MAAM,CAACG,IAAnB,EAAyBL,QAAQ,EAAjC;AACA,aAAOC,IAAI,CAACC,MAAD,CAAX;AACD,KAHuC;AAAA,GAAlB;AAAA,CAAtB;;AAKA,IAAMI,gBAAgB,GAAG,SAAnBA,gBAAmB;AAAA,SAAM,UAACL,IAAD;AAAA,WAAU,UAACC,MAAD,EAAY;AACnD,UAAI,OAAOA,MAAP,KAAkB,QAAtB,EAAgC;AAC9B,eAAOD,IAAI,CAAC;AACVI,UAAAA,IAAI,EAAEH;AADI,SAAD,CAAX;AAGD;;AAED,aAAOD,IAAI,CAACC,MAAD,CAAX;AACD,KAR8B;AAAA,GAAN;AAAA,CAAzB;;AAUA,IAAMK,KAAK,GAAGZ,WAAW,CAACG,OAAD,EAAUF,eAAe,CAChDC,eADgD,EAC/BS,gBAD+B,EACbP,aADa,CAAzB,CAAzB;;AAIA,IAAMS,oBAAoB,GAAG,SAAvBA,oBAAuB,CAACC,OAAD;AAAA,SAAa,UAACC,QAAD,EAAc;AACtDC,IAAAA,UAAU,CAAC;AAAA,aAAMD,QAAQ,CAAC;AACxBL,QAAAA,IAAI,EAAE;AADkB,OAAD,CAAd;AAAA,KAAD,EAENI,OAFM,CAAV;AAGD,GAJ4B;AAAA,CAA7B;;AAMAF,KAAK,CAACG,QAAN,CAAeF,oBAAoB,CAAC,GAAD,CAAnC;AAEA,eAAeD,KAAf","sourcesContent":["import { createStore, applyMiddleware } from 'redux';\nimport thunkMiddleware from 'redux-thunk';\n\nimport reducer from './reducers';\n\n\nconst logMiddleware = ({ getState }) => (next) => (action) => {\n  console.log(action.type, getState());\n  return next(action);\n};\n\nconst stringMiddleware = () => (next) => (action) => {\n  if (typeof action === 'string') {\n    return next({\n      type: action\n    });\n  }\n\n  return next(action);\n};\n\nconst store = createStore(reducer, applyMiddleware(\n  thunkMiddleware, stringMiddleware, logMiddleware));\n\n\nconst delayedActionCreator = (timeout) => (dispatch) => {\n  setTimeout(() => dispatch({\n    type: 'DELAYED_ACTION'\n  }), timeout);\n};\n\nstore.dispatch(delayedActionCreator(500));\n\nexport default store;\n"]},"metadata":{},"sourceType":"module"}