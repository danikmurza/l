{"ast":null,"code":"import _regeneratorRuntime from \"D:\\\\work\\\\130-thunk\\\\130-thunk\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\work\\\\130-thunk\\\\130-thunk\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport { fetchProductsPending, fetchProductsSuccess, fetchProductsError } from '../actions';\n\nfunction fetchProducts() {\n  return /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              dispatch(fetchProductsPending());\n              _context.next = 3;\n              return fetch('http://newsapi.org/v2/top-headlines?country=us&category=business&apiKey=759652119d0a41f8acc1c5b07ad5263a').then(function (res) {\n                return res.json();\n              }).then(function (res) {\n                if (res.error) {\n                  throw res.error;\n                }\n\n                dispatch(fetchProductsSuccess(res.articles));\n                console.log(res.articles);\n                console.log(dispatch(fetchProducts(res.articles)));\n                return res.articles;\n              }).catch(function (error) {\n                dispatch(fetchProductsError(error));\n              });\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n}\n\nexport default fetchProducts;","map":{"version":3,"sources":["D:/work/130-thunk/130-thunk/src/reducers/fetchProduct.js"],"names":["fetchProductsPending","fetchProductsSuccess","fetchProductsError","fetchProducts","dispatch","fetch","then","res","json","error","articles","console","log","catch"],"mappings":";;AACA,SAAQA,oBAAR,EAA8BC,oBAA9B,EAAoDC,kBAApD,QAA6E,YAA7E;;AAEA,SAASC,aAAT,GAAyB;AACvB;AAAA,wEAAO,iBAAMC,QAAN;AAAA;AAAA;AAAA;AAAA;AACLA,cAAAA,QAAQ,CAACJ,oBAAoB,EAArB,CAAR;AADK;AAAA,qBAEAK,KAAK,CAAC,0GAAD,CAAL,CACFC,IADE,CACG,UAAAC,GAAG;AAAA,uBAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,eADN,EAEFF,IAFE,CAEG,UAAAC,GAAG,EAAI;AACX,oBAAGA,GAAG,CAACE,KAAP,EAAc;AACZ,wBAAMF,GAAG,CAACE,KAAV;AACD;;AACAL,gBAAAA,QAAQ,CAACH,oBAAoB,CAACM,GAAG,CAACG,QAAL,CAArB,CAAR;AACAC,gBAAAA,OAAO,CAACC,GAAR,CAAYL,GAAG,CAACG,QAAhB;AACDC,gBAAAA,OAAO,CAACC,GAAR,CAAYR,QAAQ,CAACD,aAAa,CAACI,GAAG,CAACG,QAAL,CAAd,CAApB;AACA,uBAAOH,GAAG,CAACG,QAAX;AACD,eAVE,EAWFG,KAXE,CAWI,UAAAJ,KAAK,EAAI;AACdL,gBAAAA,QAAQ,CAACF,kBAAkB,CAACO,KAAD,CAAnB,CAAR;AACD,eAbE,CAFA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAP;;AAAA;AAAA;AAAA;AAAA;AAiBD;;AAED,eAAeN,aAAf","sourcesContent":["\r\nimport {fetchProductsPending, fetchProductsSuccess, fetchProductsError} from '../actions';\r\n\r\nfunction fetchProducts() {\r\n  return async dispatch => {\r\n    dispatch(fetchProductsPending());\r\n   await fetch('http://newsapi.org/v2/top-headlines?country=us&category=business&apiKey=759652119d0a41f8acc1c5b07ad5263a')\r\n      .then(res => res.json())\r\n      .then(res => {\r\n        if(res.error) {\r\n          throw(res.error);\r\n        }\r\n         dispatch(fetchProductsSuccess(res.articles))\r\n         console.log(res.articles)\r\n        console.log(dispatch(fetchProducts(res.articles)))\r\n        return res.articles;\r\n      })\r\n      .catch(error => {\r\n        dispatch(fetchProductsError(error));\r\n      })\r\n  }\r\n}\r\n\r\nexport default fetchProducts;\r\n"]},"metadata":{},"sourceType":"module"}