{"ast":null,"code":"import { fetchProductsPending, fetchProductsSuccess, fetchProductsError } from '../actions';\n\nfunction fetchProducts() {\n  return function (dispatch) {\n    dispatch(fetchProductsPending());\n    fetch('http://newsapi.org/v2/top-headlines?country=us&category=business&apiKey=759652119d0a41f8acc1c5b07ad5263a').then(function (res) {\n      return res.json();\n    }).then(function (res) {\n      if (res.error) {\n        throw res.error;\n      }\n\n      dispatch(fetchProductsSuccess(res.articles)); // console.log(res.articles)\n\n      console.log(dispatch(fetchProductsSuccess(res.articles)));\n      return res.articles;\n    }).catch(function (error) {\n      dispatch(fetchProductsError(error));\n    });\n  };\n}\n\nexport default fetchProducts;","map":{"version":3,"sources":["D:/Программы/pro-react-redux-master/pro-react-redux-master/re-store/130-thunk/src/reducers/fetchProduct.js"],"names":["fetchProductsPending","fetchProductsSuccess","fetchProductsError","fetchProducts","dispatch","fetch","then","res","json","error","articles","console","log","catch"],"mappings":"AACA,SAAQA,oBAAR,EAA8BC,oBAA9B,EAAoDC,kBAApD,QAA6E,YAA7E;;AAEA,SAASC,aAAT,GAAyB;AACvB,SAAO,UAAAC,QAAQ,EAAI;AACjBA,IAAAA,QAAQ,CAACJ,oBAAoB,EAArB,CAAR;AACAK,IAAAA,KAAK,CAAC,0GAAD,CAAL,CACGC,IADH,CACQ,UAAAC,GAAG;AAAA,aAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,KADX,EAEGF,IAFH,CAEQ,UAAAC,GAAG,EAAI;AACX,UAAGA,GAAG,CAACE,KAAP,EAAc;AACZ,cAAMF,GAAG,CAACE,KAAV;AACD;;AACDL,MAAAA,QAAQ,CAACH,oBAAoB,CAACM,GAAG,CAACG,QAAL,CAArB,CAAR,CAJW,CAKX;;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYR,QAAQ,CAACH,oBAAoB,CAACM,GAAG,CAACG,QAAL,CAArB,CAApB;AACA,aAAOH,GAAG,CAACG,QAAX;AACD,KAVH,EAWGG,KAXH,CAWS,UAAAJ,KAAK,EAAI;AACdL,MAAAA,QAAQ,CAACF,kBAAkB,CAACO,KAAD,CAAnB,CAAR;AACD,KAbH;AAcD,GAhBD;AAiBD;;AAED,eAAeN,aAAf","sourcesContent":["\r\nimport {fetchProductsPending, fetchProductsSuccess, fetchProductsError} from '../actions';\r\n\r\nfunction fetchProducts() {\r\n  return dispatch => {\r\n    dispatch(fetchProductsPending());\r\n    fetch('http://newsapi.org/v2/top-headlines?country=us&category=business&apiKey=759652119d0a41f8acc1c5b07ad5263a')\r\n      .then(res => res.json())\r\n      .then(res => {\r\n        if(res.error) {\r\n          throw(res.error);\r\n        }\r\n        dispatch(fetchProductsSuccess(res.articles))\r\n        // console.log(res.articles)\r\n        console.log(dispatch(fetchProductsSuccess(res.articles)))\r\n        return res.articles;\r\n      })\r\n      .catch(error => {\r\n        dispatch(fetchProductsError(error));\r\n      })\r\n  }\r\n}\r\n\r\nexport default fetchProducts;\r\n"]},"metadata":{},"sourceType":"module"}