{"ast":null,"code":"import { fetchNewsPending, fetchNewsSuccess, fetchNewsError } from '../actions';\n\nfunction fetchNews() {\n  return function (dispatch) {\n    dispatch(fetchNewsPending());\n    fetch('http://newsapi.org/v2/top-headlines?country=us&category=business&apiKey=759652119d0a41f8acc1c5b07ad5263a').then(function (res) {\n      return res.json();\n    }).then(function (res) {\n      if (res.error) {\n        throw res.error;\n      }\n\n      dispatch(fetchNewsSuccess(res.articles));\n      console.log(res.articles);\n      return res;\n    }).catch(function (error) {\n      dispatch(fetchNewsError(error));\n    });\n  };\n}\n\nexport default fetchNews;","map":{"version":3,"sources":["D:/work/130-thunk/130-thunk/src/reducers/fetchProduct.js"],"names":["fetchNewsPending","fetchNewsSuccess","fetchNewsError","fetchNews","dispatch","fetch","then","res","json","error","articles","console","log","catch"],"mappings":"AAAA,SACEA,gBADF,EAEEC,gBAFF,EAGEC,cAHF,QAIO,YAJP;;AAMA,SAASC,SAAT,GAAqB;AACnB,SAAS,UAACC,QAAD,EAAc;AACrBA,IAAAA,QAAQ,CAACJ,gBAAgB,EAAjB,CAAR;AACEK,IAAAA,KAAK,CAAC,0GAAD,CAAL,CACCC,IADD,CACM,UAAAC,GAAG;AAAA,aAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,KADT,EAECF,IAFD,CAEM,UAAAC,GAAG,EAAI;AACX,UAAIA,GAAG,CAACE,KAAR,EAAe;AACb,cAAMF,GAAG,CAACE,KAAV;AACD;;AACDL,MAAAA,QAAQ,CAACH,gBAAgB,CAACM,GAAG,CAACG,QAAL,CAAjB,CAAR;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYL,GAAG,CAACG,QAAhB;AACA,aAAOH,GAAP;AACD,KATD,EAUCM,KAVD,CAUO,UAAAJ,KAAK,EAAI;AACdL,MAAAA,QAAQ,CAACF,cAAc,CAACO,KAAD,CAAf,CAAR;AACD,KAZD;AAaH,GAfD;AAgBD;;AAED,eAAeN,SAAf","sourcesContent":["import {\r\n  fetchNewsPending,\r\n  fetchNewsSuccess,\r\n  fetchNewsError\r\n} from '../actions';\r\n\r\nfunction fetchNews() {\r\n  return   (dispatch) => {\r\n    dispatch(fetchNewsPending());\r\n      fetch('http://newsapi.org/v2/top-headlines?country=us&category=business&apiKey=759652119d0a41f8acc1c5b07ad5263a')\r\n      .then(res => res.json())\r\n      .then(res => {\r\n        if (res.error) {\r\n          throw(res.error);\r\n        }\r\n        dispatch(fetchNewsSuccess(res.articles))\r\n        console.log(res.articles)\r\n        return res;\r\n      })\r\n      .catch(error => {\r\n        dispatch(fetchNewsError(error));\r\n      })\r\n  }\r\n}\r\n\r\nexport default fetchNews;\r\n"]},"metadata":{},"sourceType":"module"}